<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>PRISMA â€” Seguridad Industrial Â· ISO 45001</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" href="logo-prisma.png" />
</head>
<body class="theme-dark">
  <!-- SPLASH -->
  <div id="splash" class="splash" role="dialog" aria-modal="true" aria-label="Bienvenido a PRISMA">
    <img src="logo-prisma.png" alt="Logo PRISMA" class="splash-logo" />
    <h1 class="splash-title">PRISMA</h1>
    <p class="splash-sub">Seguridad Industrial Â· ISO 45001</p>
  </div>

  <!-- NAV -->
  <header class="nav">
    <div class="container nav-inner">
      <a class="brand" href="index.html" aria-label="Inicio">
        <img class="brand-logo" src="logo-prisma.png" alt="Logo PRISMA" />
        <span class="brand-meta">
          <strong>PRISMA</strong>
          <small>Seguridad Industrial Â· ISO 45001</small>
        </span>
      </a>

      <nav class="menu only-desktop" aria-label="Principal">
        <a href="dashboard.html" data-i18n="nav.dashboard">Dashboard</a>
        <a href="trabajador.html" data-i18n="nav.worker">Trabajador</a>
        <a href="entrenamiento.html" data-i18n="nav.training">Entrenamiento</a>
        <a href="sensores.html" data-i18n="nav.sensors">Sensores</a>
        <a href="reportes.html" data-i18n="nav.reports">Reportes</a>
        <a href="mensajes.html" data-i18n="nav.messages">Mensajes</a>
      </nav>

      <div class="actions">
        <button id="btnLang" class="icon-btn" aria-label="Cambiar idioma">ES</button>
        <button id="btnTheme" class="icon-btn" aria-label="Cambiar tema" title="Claro/Oscuro">ðŸŒž/ðŸŒ™</button>
        <a class="btn outline" href="auth.html" data-i18n="nav.login">Ingresar</a>
        <button id="btnOpenMenu" class="hamburger" aria-label="Abrir menÃº" aria-controls="mobileMenu" aria-expanded="false">
          <span></span><span></span><span></span>
        </button>
      </div>
    </div>
    <!-- MenÃº mÃ³vil -->
    <div id="mobileMenu" class="menu-panel" role="menu">
      <a role="menuitem" href="dashboard.html" data-i18n="nav.dashboard">Dashboard</a>
      <a role="menuitem" href="trabajador.html" data-i18n="nav.worker">Trabajador</a>
      <a role="menuitem" href="entrenamiento.html" data-i18n="nav.training">Entrenamiento</a>
      <a role="menuitem" href="sensores.html" data-i18n="nav.sensors">Sensores</a>
      <a role="menuitem" href="reportes.html" data-i18n="nav.reports">Reportes</a>
      <a role="menuitem" href="mensajes.html" data-i18n="nav.messages">Mensajes</a>
      <a role="menuitem" class="btn primary" href="auth.html" data-i18n="nav.login">Ingresar</a>
    </div>
  </header>

  <!-- HERO -->
  <main class="container">
    <section class="hero">
      <div class="hero-copy">
        <h1 data-i18n="hero.title">Seguridad inteligente para cero incidentes</h1>
        <p class="lead" data-i18n="hero.lead">
          Checklists, reportes, mapa de riesgos, botÃ³n de pÃ¡nico, sensores y capacitaciÃ³n con IA en una sola plataforma 100% web y mÃ³vil.
        </p>
        <div class="hero-ctas">
          <a class="btn primary" href="dashboard.html" data-i18n="cta.openDash">Abrir Dashboard</a>
          <a class="btn outline" href="auth.html" data-i18n="cta.create">Crear cuenta</a>
        </div>
        <ul class="hero-badges">
          <li>ISO 45001</li>
          <li data-i18n="badge.offline">Modo offline</li>
          <li data-i18n="badge.export">ExportaciÃ³n PDF/Excel</li>
        </ul>
      </div>

      <aside class="hero-card">
        <a class="quick" href="reportes.html#sos">
          <span>ðŸ†˜</span><strong data-i18n="quick.panic">BotÃ³n de pÃ¡nico (GPS)</strong>
        </a>
        <a class="quick" href="entrenamiento.html">
          <span>ðŸŽ§</span><strong data-i18n="quick.micro">Microcursos con voz IA</strong>
        </a>
        <a class="quick" href="sensores.html">
          <span>ðŸ§ª</span><strong data-i18n="quick.sensors">Sensores en tiempo real</strong>
        </a>
      </aside>
    </section>

    <!-- KPIs rÃ¡pidos -->
    <section class="kpi-row">
      <div class="kpi">
        <div class="kpi-label" data-i18n="kpi.incidents">Incidentes hoy</div>
        <div class="kpi-value">0</div>
      </div>
      <div class="kpi">
        <div class="kpi-label" data-i18n="kpi.compliance">% Cumplimiento</div>
        <div class="kpi-value">92%</div>
      </div>
      <div class="kpi">
        <div class="kpi-label" data-i18n="kpi.training">Capacitaciones</div>
        <div class="kpi-value">18</div>
      </div>
      <div class="kpi">
        <div class="kpi-label" data-i18n="kpi.audit">AuditorÃ­as</div>
        <div class="kpi-value">7</div>
      </div>
    </section>

    <!-- Departamentos (acordeÃ³n) -->
    <section class="grid two">
      <div class="card">
        <h2 data-i18n="sec.deps">Departamentos</h2>
        <div class="accordion">
          <div class="acc">
            <button class="acc-head">Seguridad e Higiene</button>
            <div class="acc-body">
              <a class="acc-item" href="reportes.html#riesgo">Aviso de riesgo <span class="chip">Nuevo</span></a>
              <a class="acc-item" href="reportes.html#epp">CertificaciÃ³n de Entrega EPP</a>
              <a class="acc-item" href="reportes.html#extintores">Control de Extintores</a>
              <a class="acc-item" href="reportes.html#checklist">Control Checklist-EPP</a>
              <a class="acc-item" href="reportes.html#inspeccion">Workplace Inspection</a>
            </div>
          </div>
          <div class="acc">
            <button class="acc-head">Calidad</button>
            <div class="acc-body">
              <a class="acc-item" href="reportes.html#5s">InspecciÃ³n 5S</a>
              <a class="acc-item" href="reportes.html#iso9001">ISO 9001</a>
            </div>
          </div>
          <div class="acc">
            <button class="acc-head">GestiÃ³n Ambiental</button>
            <div class="acc-body">
              <a class="acc-item" href="reportes.html#derrame">Derrames</a>
              <a class="acc-item" href="reportes.html#residuos">Residuos</a>
            </div>
          </div>
        </div>
      </div>

      <!-- MensajerÃ­a corta + Login -->
      <div class="card">
        <h2 data-i18n="sec.messages">Mensajes</h2>
        <div class="row">
          <input class="input" type="text" placeholder="Mensaje a equipoâ€¦" aria-label="Mensaje" />
          <button class="btn primary" type="button" onclick="alert('Enviado')"
            data-i18n="btn.send">Enviar</button>
        </div>

        <hr class="soft" />

        <h2 data-i18n="sec.login">Ingresar</h2>
        <form class="stack" action="auth.html" method="get">
          <label class="stack">
            <span>Email</span>
            <input class="input" type="email" name="email" required />
          </label>
          <label class="stack">
            <span data-i18n="form.password">ContraseÃ±a</span>
            <input class="input" type="password" name="pass" required />
          </label>
          <button class="btn primary" type="submit" data-i18n="btn.login">Iniciar sesiÃ³n</button>
          <a class="btn outline" href="auth.html#google" data-i18n="btn.google">Continuar con Google</a>
        </form>
      </div>
    </section>
  </main>

  <!-- FOOTER -->
  <footer class="footer">
    <div class="container footer-grid">
      <div class="brand small">
        <img class="brand-logo" src="logo-prisma.png" alt="Logo PRISMA" />
        <span class="brand-meta"><strong>PRISMA</strong><small>Â© 2025 â€” Seguridad e Higiene</small></span>
      </div>
      <div class="notice" data-i18n="foot.note">
        Cumple ISO 45001 Â· Datos de ejemplo Â· Integra IA y exportaciones.
      </div>
    </div>
  </footer>

  <!-- I18N + THEME + SPLASH + NAV MOBILE + ACCORDION -->
  <script>
    // ========= i18n =========
    const dict = {
      es: {
        "nav.dashboard":"Dashboard","nav.worker":"Trabajador","nav.training":"Entrenamiento","nav.sensors":"Sensores","nav.reports":"Reportes","nav.messages":"Mensajes","nav.login":"Ingresar",
        "hero.title":"Seguridad inteligente para cero incidentes",
        "hero.lead":"Checklists, reportes, mapa de riesgos, botÃ³n de pÃ¡nico, sensores y capacitaciÃ³n con IA en una sola plataforma 100% web y mÃ³vil.",
        "cta.openDash":"Abrir Dashboard","cta.create":"Crear cuenta",
        "badge.offline":"Modo offline","badge.export":"ExportaciÃ³n PDF/Excel",
        "quick.panic":"BotÃ³n de pÃ¡nico (GPS)","quick.micro":"Microcursos con voz IA","quick.sensors":"Sensores en tiempo real",
        "kpi.incidents":"Incidentes hoy","kpi.compliance":"% Cumplimiento","kpi.training":"Capacitaciones","kpi.audit":"AuditorÃ­as",
        "sec.deps":"Departamentos","sec.messages":"Mensajes","btn.send":"Enviar","sec.login":"Ingresar","form.password":"ContraseÃ±a","btn.login":"Iniciar sesiÃ³n","btn.google":"Continuar con Google",
        "foot.note":"Cumple ISO 45001 Â· Datos de ejemplo Â· Integra IA y exportaciones."
      },
      en: {
        "nav.dashboard":"Dashboard","nav.worker":"Worker","nav.training":"Training","nav.sensors":"Sensors","nav.reports":"Reports","nav.messages":"Messages","nav.login":"Sign in",
        "hero.title":"Intelligent safety for zero incidents",
        "hero.lead":"Checklists, incident reports, risk map, panic button, sensors and AI training in one 100% web & mobile platform.",
        "cta.openDash":"Open Dashboard","cta.create":"Create account",
        "badge.offline":"Offline mode","badge.export":"PDF/Excel export",
        "quick.panic":"Panic button (GPS)","quick.micro":"AI voice micro-courses","quick.sensors":"Real-time sensors",
        "kpi.incidents":"Incidents today","kpi.compliance":"% Compliance","kpi.training":"Trainings","kpi.audit":"Audits",
        "sec.deps":"Departments","sec.messages":"Messages","btn.send":"Send","sec.login":"Sign in","form.password":"Password","btn.login":"Log in","btn.google":"Continue with Google",
        "foot.note":"ISO 45001 compliant Â· Demo data Â· AI & export ready."
      }
    };
    const $t = (lang) => {
      document.querySelectorAll("[data-i18n]").forEach(el=>{
        const k = el.getAttribute("data-i18n");
        if (dict[lang] && dict[lang][k]) el.textContent = dict[lang][k];
      });
      document.documentElement.lang = lang;
      localStorage.setItem("prisma_lang", lang);
      document.getElementById("btnLang").textContent = lang.toUpperCase();
    };
    // ========= theme =========
    const setTheme = (mode) => {
      document.body.classList.toggle("theme-light", mode === "light");
      localStorage.setItem("prisma_theme", mode);
    };

    // ========= splash =========
    const hideSplash = () => {
      const s = document.getElementById("splash");
      if (!s) return;
      s.classList.add("hide");
      setTimeout(()=> s.remove(), 450);
      localStorage.setItem("prisma_splash_seen","1");
    };

    // ========= mobile menu =========
    const mobileMenu = document.getElementById("mobileMenu");
    const btnMenu = document.getElementById("btnOpenMenu");
    btnMenu.addEventListener("click", ()=>{
      const open = mobileMenu.classList.toggle("open");
      btnMenu.setAttribute("aria-expanded", open ? "true" : "false");
    });
    document.addEventListener("click",(e)=>{
      if (!mobileMenu.contains(e.target) && !btnMenu.contains(e.target)) mobileMenu.classList.remove("open");
    });

    // ========= accordion =========
    document.querySelectorAll(".acc-head").forEach(btn=>{
      btn.addEventListener("click", ()=> btn.parentElement.classList.toggle("open"));
    });

    // ========= init =========
    window.addEventListener("DOMContentLoaded", ()=>{
      // idioma
      const savedLang = localStorage.getItem("prisma_lang") || "es";
      $t(savedLang);
      document.getElementById("btnLang").addEventListener("click", ()=>{
        $t(document.documentElement.lang === "es" ? "en" : "es");
      });

      // tema
      const savedTheme = localStorage.getItem("prisma_theme") || "dark";
      setTheme(savedTheme);
      document.getElementById("btnTheme").addEventListener("click", ()=>{
        setTheme(document.body.classList.contains("theme-light") ? "dark" : "light");
      });

      // splash (solo 1Âª vez por sesiÃ³n)
      const seen = localStorage.getItem("prisma_splash_seen");
      if (seen === "1") hideSplash();
      else setTimeout(hideSplash, 1400);
    });
  </script>
</body>
</html>
